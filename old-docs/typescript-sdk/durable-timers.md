---
sidebar_position: 8
description: "Let your service sleep for a specified time, guaranteed by Restate."
---

# Durable timers

Restate provides you with durable timers.
A service can either sleep for a specified amount of time,
or can sleep or pause until it is woken up by another service (called awakeable).
Restate stores and keeps track of your timers so that your application sleeps the right duration, even across failures and restarts.

:::tip Did you know?
During a sleep, Restate suspends the invocation to free up resources for other service invocations.
This feature is particularly beneficial for AWS Lambda deployments.
When the service sleeps, costs are reduced to zero.
:::
:::danger
Don't use NodeJS timer implementations or sleep functions in combination with Restate.
Otherwise, you will not benefit from suspensions.
:::

## Sleep
To sleep in a Restate application, do the following:

```typescript
const duration = 1000;
await restateContext.sleep(duration);
```


## Awakeables
Another way of pausing an invocation is via awakeables.
Awakeables pause an invocation while waiting for an external process to return an ID that was generated by the SDK. 
Once the ID is received by the runtime, it signals the invocation to resume. 
The ID specifies the particular service and invocation that should be reactivated, and it can be delivered by an external process or another Restate service. This design pattern is also referred to as the callback (task token) pattern.

To pause the invocation, do the following:

```typescript
const awakeable = ctx.awakeable<string>();
const id = awakeable.id
// send the ID to some external system
// Await on the ID to be send back to the runtime
const result = await awakeable.promise;
```

Now the invocation gets suspended until another service or process delivers the ID back, together with an optional payload.
Thereby, waking up the service. 

To complete an awakeable, use the id that you received from the service, and do the following: 

```typescript
ctx.completeAwakeable(id, "hello");
```

:::info
In the current release, only Restate services have the capability to complete awakeables.
If you want to enable an external system to awaken a service,
you must introduce a Restate service in the middle
to translate the incoming external request and trigger the completion of the awakeable.
In next versions, we will improve this feature to work better with external non-Restate systems.
:::

