---
sidebar_position: 1
description: ""
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';


# Durable Promises


Restate provides a distributed, durable version of common primitives that can be used to build resilient, distributed applications.

[//]: # (<iframe src="https://replit.com/@giselle7/JavaRestateTemplate?embed=true" width="600" height="400"></iframe>)

<Tabs>
  <TabItem value="ts" label="TypeScript">

<CH.Spotlight className="durable-promises">

```ts
export const router = restate.keyedRouter({
    create: async ( ctx: restate.KeyedContext) => {

        const response1 = await ctx.rpc(myGreeterApi).greet("Restate");

    }
});
```

    ---

```ts

```


    **Durable RPC**: call handlers in a durable way.
    When a failure happens, Restate handles retries and recovers partial progress.

    ---

```diff
export const router = restate.keyedRouter({
    create: async ( ctx: restate.KeyedContext, orderId: string, order: Order) => {
        const { id, totalCost, deliveryDelay } = order;

        ctx.send(orderstatus.service).setStatus(id, Status.CREATED);

        // 2. Handle payment
        const token = ctx.rand.uuidv4();
        const paid = await ctx.sideEffect(() => paymentClnt.charge(id, token, totalCost));

        if (!paid) {
        ctx.send(orderstatus.service).setStatus(id, Status.REJECTED);
        return;
        }

    }
});
```

   **Durable timers**: durably sleep or schedule a function to be executed at a later time.

    ---

```ts
    ctx.awakeable()
    ```

    **Durable webhooks**: register a webhook in Restate and receive a durable promise that will be resolved when the webhook is triggered.

    ---

    ```ts
    await ctx.sideEffect(async () => callDb())
    ```

    **Durable side effects**: store the result of a computation in Restate. The result gets replayed in case of failures and the function is not executed again.

</CH.Spotlight>

  </TabItem>
          <TabItem value="java" label="Java">
          </TabItem>
</Tabs>