---
sidebar_position: 9
description: "Set up long-running services or Lambda handlers."
---

# Serving
Restate services can run in two ways: as long-running services or as AWS Lambda functions.

:::tip Good news!
Switching the deployment type of your service is just a matter of changing two lines of code!
:::

## Restate server for long-running services

To register your service as a long-running service, do the following:

```typescript
import * as restate from "@restatedev/restate-sdk";

restate
  .createServer()
  .bindService({
    descriptor: protoMetadata,
    service: "Greeter",
    instance: new GreeterService(),
  })
  .listen(8080);
```

First, call the `createServer()` method to create a new `RestateServer`.

Then, bind one or multiple services to the server.
- As `descriptor`, you need to provide the `protoMetadata` that was generated by the Protobuf code generator. 
- The value assigned to `service` should correspond to the name of the service defined in the Protobuf service definition. This code example assumes the service is called `Greeter`. This means that the Protobuf definition includes the following:
```protobuf
service Greeter {
  // Definition of the methods
  //...
}
```
- For the `instance` field, provide an instance of the service implementation. 

Finally, call `listen(port)` to have the RestateServer listen on the specified port for connections and requests.

## Restate Lambda handler

To register your service as a Lambda function,
only minimal changes are required, as compared to the long-running service:

```typescript
import * as restate from "@restatedev/restate-sdk";

export const handler = restate
  .createLambdaApiGatewayHandler()
  .bindService({
    descriptor: protoMetadata,
    service: "Greeter",
    instance: new GreeterService(),
  })
  .handle();
```

Call the `createLambdaApiGatewayHandler()` method to create a Lambda Restate server. 
Then bind the services, in the same way as for the long-running services. 
Finally, call `handle()`. 

:::info 
That's all you need to do to enable running on AWS Lambda.
The implementation of your service methods remains the same for both deployment options.
:::

Have a look at the next section on deployment
for guidance on how to deploy your services on AWS Lambda.
