---
title: "Workflows-as-code"
sidebar_position: 1
description: "Write workflows-as-code with Restate"
hide_table_of_contents: true
hide_title: true
---

import {TextAndCode} from "../../src/components/code/code/text-and-code";import clsx from "clsx";
import FeatureWidget from "../../src/components/FeatureWidget"
import ExampleWidget from "../../src/components/ExampleWidget"
import FeatureList from "../../src/components/FeatureList"
import FeatureSpotlight from "../../src/components/FeatureSpotlight"
import SpotlightCard from "../../src/components/SpotlightCard"
import TwoColumnText from "../../src/components/TwoColumnText"
import {Scrollycoding} from "../../src/components/code/scrollycoding";

<div className={"row"}>
    <div className={"col col--6 col-lg-6 col-md-12"}>
        <h1 className={"padding-top--lg text--left"}>Workflows-as-code</h1>
        <h1 className={"use-case-subtitle text--left"}>Lightweight, flexible, durable.</h1>
        <p className={"use-case-description padding-bottom--lg text--left"}>Combine the resiliency of workflows with the speed and flexibility of regular functions.
            Restate orchestrates and manages their execution till completion, whether it’s millis or months.</p>
    </div>
    <div className={"col col--6 col-lg-6 col-md-12"}>
        <img src={"/img/use_cases/use-case-workflows-light.svg"} alt={"Workflows-as-code"} className={"use-case-img"}/>
    </div>
</div>

<hr/>
<p className={"padding-bottom--lg"}></p>

<FeatureList className={"padding-bottom--lg"} features={[
    {
        title: 'Familiar programming model',
        iconPath: '/img/code-icon.svg',
        description: "Restate gives workflow semantics to any function: retries, recovery of progress,... Restate provides a distributed, durable version of familiar building blocks: timers, promises, signals,...",
    },
    {
        title: 'Low latency',
        iconPath: '/img/use_cases/lightning.svg',
        description: "Restate is built from the ground up to serve low-latency workflows. You can now put workflows in the latency-sensitive path of user interactions.",
    },
    {
        title: 'Support for serverless',
        iconPath: '/img/use_cases/aws-lambda-icon.svg',
        description: "Run your workflow and/or its activities on Function-as-a-Service platforms. Restate lets your functions suspend whenever they wait on inputs.",
    },
]}/>

<p className={"padding-bottom--lg"}></p>

## Workflows with Restate

Use Restate's durable building blocks to implement workflows that are resilient to failures and recoverable.

<Scrollycoding>

    ### !!steps Durable building blocks

    The Restate SDK gives you access to durable building blocks that you can use to build workflows: RPC calls, events, timers, promises, signals, and more.

    [Learn more](/concepts/durable_building_blocks)

    ```ts !!tabs TypeScript https://github.com/restatedev/examples/blob/main/typescript/basics/src/3_workflows.ts
    CODE_LOAD::ts/src/use_cases/workflows/signup_workflow.ts?1
    ```
    ```java !!tabs Java https://github.com/restatedev/examples/blob/main/java/basics/src/main/java/workflows/SignupWorkflow.java
    CODE_LOAD::java/src/main/java/usecases/workflows/SignupWorkflow.java?1
    ```
    ```kotlin !!tabs Kotlin https://github.com/restatedev/examples/blob/main/kotlin/basics/src/main/kotlin/workflows/SignupWorkflow.kt
    CODE_LOAD::kotlin/src/main/kotlin/usecases/workflows/SignupWorkflow.kt?1
    ```
    ```go !!tabs Go https://github.com/restatedev/examples/blob/main/go/basics/part3/workflows.go
    CODE_LOAD::go/usecases/workflows/workflows.go?1
    ```
    ```python !!tabs Python https://github.com/restatedev/examples/blob/main/python/basics/app/3_workflows.py
    CODE_LOAD::python/src/use_cases/workflows/signup_workflow.py?1
    ```

    ### !!steps Persist progress

    Restate logs the progress your code makes and recovers it in case of a crash.
    This way, you can build workflows that are durable and resilient to failures.

    [Learn more](/concepts/durable_execution)

    ```ts !!tabs TypeScript https://github.com/restatedev/examples/blob/main/typescript/basics/src/3_workflows.ts
    CODE_LOAD::ts/src/use_cases/workflows/signup_workflow.ts?2
    ```
    ```java !!tabs Java https://github.com/restatedev/examples/blob/main/java/basics/src/main/java/workflows/SignupWorkflow.java
    CODE_LOAD::java/src/main/java/usecases/workflows/SignupWorkflow.java?2
    ```
    ```kotlin !!tabs Kotlin https://github.com/restatedev/examples/blob/main/kotlin/basics/src/main/kotlin/workflows/SignupWorkflow.kt
    CODE_LOAD::kotlin/src/main/kotlin/usecases/workflows/SignupWorkflow.kt?2
    ```
    ```go !!tabs Go https://github.com/restatedev/examples/blob/main/go/basics/part3/workflows.go
    CODE_LOAD::go/usecases/workflows/workflows.go?2
    ```
    ```python !!tabs Python https://github.com/restatedev/examples/blob/main/python/basics/app/3_workflows.py
    CODE_LOAD::python/src/use_cases/workflows/signup_workflow.py?2
    ```

    ### !!steps Durable promises and signals

    Make Promises/Futures resilient by registering them in Restate.
    Share them and wait until other functions resolve them.

    ```ts !!tabs TypeScript https://github.com/restatedev/examples/blob/main/typescript/basics/src/3_workflows.ts
    CODE_LOAD::ts/src/use_cases/workflows/signup_workflow.ts?3
    ```
    ```java !!tabs Java https://github.com/restatedev/examples/blob/main/java/basics/src/main/java/workflows/SignupWorkflow.java
    CODE_LOAD::java/src/main/java/usecases/workflows/SignupWorkflow.java?3
    ```
    ```kotlin !!tabs Kotlin https://github.com/restatedev/examples/blob/main/kotlin/basics/src/main/kotlin/workflows/SignupWorkflow.kt
    CODE_LOAD::kotlin/src/main/kotlin/usecases/workflows/SignupWorkflow.kt?3
    ```
    ```go !!tabs Go https://github.com/restatedev/examples/blob/main/go/basics/part3/workflows.go
    CODE_LOAD::go/usecases/workflows/workflows.go?3
    ```
    ```python !!tabs Python https://github.com/restatedev/examples/blob/main/python/basics/app/3_workflows.py
    CODE_LOAD::python/src/use_cases/workflows/signup_workflow.py?3
    ```

</Scrollycoding>

<SpotlightCard>
    <FeatureSpotlight
        title={"Workflows as regular, lightweight functions"}
        description={<p>Restate is a single binary and its workflow functionality is integrated in its core. <br/>
            Your workflows run like any other function in your infrastructure: on K8S, FaaS, or mix-and-match. <br/>
            No need to spin up extra infrastructure or dedicated workers.</p>}
        imgPath={"/img/use_cases/workflows-white.svg"}
    />
</SpotlightCard>

<TextAndCode>
    ### Invoke idempotently and latch on
    A workflow runs exactly one time.
    Restate makes sure that duplicate requests do not lead to duplicate execution.

    If the caller loses the connection to the workflow, he can latch on again to retrieve the result.

    ```ts !!tabs TypeScript https://github.com/restatedev/examples/blob/main/typescript/patterns-use-cases/src/queue/task_submitter.ts
    CODE_LOAD::ts/src/use_cases/workflows/submit.ts
    ```
    ```java !!tabs Java https://github.com/restatedev/examples/blob/main/java/patterns-use-cases/src/main/java/my/example/queue/TaskSubmitter.java
    CODE_LOAD::java/src/main/java/usecases/workflows/WorkflowSubmitter.java
    ```
    ```kotlin !!tabs Kotlin
    CODE_LOAD::kotlin/src/main/kotlin/usecases/workflows/WorkflowSubmitter.kt
    ```
    ```go !!tabs Go https://github.com/restatedev/examples/blob/main/go/patterns-use-cases/src/queue/client/tasksubmitter.go
    CODE_LOAD::go/usecases/workflows/client/client.go
    ```
    ```python !!tabs Python https://github.com/restatedev/examples/blob/main/python/patterns-use-cases//queue/task_submitter.py
    CODE_LOAD::python/src/use_cases/workflows/submit.py
    ```

</TextAndCode>

<SpotlightCard>
    <TwoColumnText features={[
        {
            title: 'LOW-LATENCY',
            description: <>Restate’s event-driven foundation built in Rust lets you put workflows in the latency-sensitive path of user interaction.<br/><br/>  <a href={"https://restate.dev/blog/the-anatomy-of-a-durable-execution-stack-from-first-principles/#some-performance-numbers"}>Learn more</a></>,
        },
        {
            title: 'DURABLE EXECUTION',
            description: <>Restate handles retries and recovers your code to the exact point before the crash. State changes take part in durable execution, so the state never gets out of sync. <br/><br/>  <a href={"https://restate.dev/what-is-durable-execution/"}>Learn more</a></>,
        },
    ]}/>
</SpotlightCard>

## Flexible, Stateful Workflows with Restate

<Scrollycoding>
    ### !!steps Flexible logic and failure handling

    Restate guarantees code runs to completion. This makes it easy to implement resilient sagas in a simple try-catch block.

    Track all rollback actions in a list and run them on unrecoverable failures.

    Restate takes care of retries and recovery and makes sure all compensations run.

    [Learn more](/guides/sagas)

    ```ts !!tabs TypeScript
    CODE_LOAD::ts/src/use_cases/workflows/subscription_workflow.ts?2
    ```
    ```java !!tabs Java
    CODE_LOAD::java/src/main/java/usecases/workflows/SubscriptionWorkflow.java?2
    ```
    ```kotlin !!tabs Kotlin
    CODE_LOAD::kotlin/src/main/kotlin/usecases/workflows/SubscriptionWorkflow.kt?2
    ```
    ```go !!tabs Go
    CODE_LOAD::go/usecases/workflows/saga/subscriptionworkflow.go?2
    ```
    ```python !!tabs Python
    CODE_LOAD::python/src/use_cases/workflows/subscription_workflow.py?2
    ```

    ### !!steps Queryable workflow state

    Use Restate’s built-in key-value store to store workflow state.
    Restate guarantees that it is consistent and persistent, since state updates are tracked together with the rest of the execution progress.

    You can retrieve the current state of the workflow from within other handlers and expose it to external clients.

    ```ts !!tabs TypeScript
    CODE_LOAD::ts/src/use_cases/workflows/subscription_workflow.ts?1
    ```
    ```java !!tabs Java
    CODE_LOAD::java/src/main/java/usecases/workflows/SubscriptionWorkflow.java?1
    ```
    ```kotlin !!tabs Kotlin
    CODE_LOAD::kotlin/src/main/kotlin/usecases/workflows/SubscriptionWorkflow.kt?1
    ```
    ```go !!tabs Go
    CODE_LOAD::go/usecases/workflows/saga/subscriptionworkflow.go?1
    ```
    ```python !!tabs Python
    CODE_LOAD::python/src/use_cases/workflows/subscription_workflow.py?1
    ```

    ### !!steps Stateful, serverless workflows

    You can run stateful workflows on serverless infrastructure, like AWS Lambda.
    Restate attaches the state to the request.
    Your handlers work on local state

    [Learn more](https://restate.dev/blog/we-replaced-400-lines-of-stepfunctions-asl-with-40-lines-of-typescript-by-making-lambdas-suspendable/)

    ```ts !!tabs TypeScript
    CODE_LOAD::ts/src/use_cases/workflows/subscription_workflow.ts?3
    ```
    ```java !!tabs Java
    CODE_LOAD::java/src/main/java/usecases/workflows/SubscriptionWorkflow.java?3
    ```
    ```kotlin !!tabs Kotlin
    CODE_LOAD::kotlin/src/main/kotlin/usecases/workflows/SubscriptionWorkflow.kt?3
    ```
    ```go !!tabs Go
    CODE_LOAD::go/usecases/workflows/saga/subscriptionworkflow.go?3
    ```
    ```python !!tabs Python
    CODE_LOAD::python/src/use_cases/workflows/subscription_workflow.py?3
    ```

</Scrollycoding>


<SpotlightCard>
    <FeatureSpotlight
        title={"Detailed Observability"}
        description={<p>Understand what is happening in your workflows, by using the UI, the CLI, and the built-in tracing.<br/>Debug failing workflows, inspect the K/V state, and manage deployments.</p>}
        imgPath={"/img/use_cases/workflow_ui.png"}
        imgSize={"100%"}
        button1={"What can you do with UI?"}
        link1={"https://restate.dev/blog/announcing-restate-ui/"}
        button2={"What can you do with CLI?"}
        link2={"/operate/introspection/"}
    />
</SpotlightCard>

## What you can build with Workflows and Restate

<ExampleWidget features={[
    {
        title: 'User sign-up workflow',
        description: "Create user in the system, wait until email confirmation, schedule a reminder, send welcome email, etc.",
        links: [
            { url: "https://github.com/restatedev/examples/blob/main/typescript/basics/src/3_workflows.ts", icon: "/img/typescript.svg"},
            { url: "https://github.com/restatedev/examples/blob/main/java/basics/src/main/java/workflows/SignupWorkflow.java", icon: "/img/java.svg"},
            { url: "https://github.com/restatedev/examples/blob/main/kotlin/basics/src/main/kotlin/workflows/SignupWorkflow.kt", icon: "/img/kotlin.svg"},
            { url: "https://github.com/restatedev/examples/blob/main/python/basics/app/3_workflows.py", icon: "/img/python.svg"},
            { url: "https://github.com/restatedev/examples/blob/main/go/basics/part3/workflows.go", icon: "/img/go.svg"},
        ]
    },
    {
        title: 'Order processing and logistics',
        description: "Handle the payment, request the order preparation, wait for driver acceptance callback, etc.",
        links: [
            { url: "https://github.com/restatedev/examples/tree/main/typescript/end-to-end-applications/food-ordering", icon: "/img/typescript.svg"},
            { url: "https://github.com/restatedev/examples/tree/main/java/end-to-end-applications/food-ordering", icon: "/img/java.svg"},
            { url: "https://github.com/restatedev/examples/tree/main/kotlin/end-to-end-applications/food-ordering", icon: "/img/kotlin.svg"},
            { url: "https://github.com/restatedev/examples/tree/main/python/end-to-end-applications/food-ordering", icon: "/img/python.svg"},
        ]
    },
    {
        title: 'Infrastructure provisioning',
        description: "Go through a set of steps to provision a setup. Retry until resources are up, handle timeouts, rollbacks, etc.",
    },
    {
        title: 'Workflow interpreters and AI agents',
        description: "Dynamically compose workflows based on user input. For example, an image transformer that lets users specify the steps to be taken.",
        links: [{ url: "https://github.com/restatedev/examples/tree/main/typescript/end-to-end-applications/ai-image-workflows", icon: "/img/typescript.svg"}]
    },
    {
        title: 'AI workflows',
        description: "An ingestion workflow to make documents available for RAG.",
        links: [{ url: "https://github.com/restatedev/examples/tree/main/python/end-to-end-applications/rag-ingestion", icon: "/img/python.svg"}]
    },
    {
        title: 'Wondering about a specific use case?',
        description: "Let’s brainstorm together on Discord or Slack.",
        links: [
            {url: "https://discord.gg/skW3AZ6uGd", icon: "/img/discord-icon.svg"},
            {url: "https://join.slack.com/t/restatecommunity/shared_invite/zt-2v9gl005c-WBpr167o5XJZI1l7HWKImA", icon: "/img/slack.svg"}
        ]
    },
    ]}>
</ExampleWidget>

## Developer Resources

<FeatureWidget features={[
    {
        title: 'Blog post',
        description: <i>The simplest way to write workflows-as-code.</i>,
        link: {url: "https://restate.dev/blog/the-simplest-way-to-write-workflows-as-code/"}
    },
    {
        title: 'Docs',
        description: (
            "Read the docs to learn more."
        ),
        link: {url: "/concepts/services#workflows"},
    },
    {
        title: 'Need help?',
        description: "Join the Restate Discord or Slack communities",
        links: [
            {url: "https://discord.gg/skW3AZ6uGd", icon: "/img/discord-icon.svg"},
            {url: "https://join.slack.com/t/restatecommunity/shared_invite/zt-2v9gl005c-WBpr167o5XJZI1l7HWKImA", icon: "/img/slack.svg"}
        ]
    }
]}/>
