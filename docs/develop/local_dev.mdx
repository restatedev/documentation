---
sidebar_position: 2
description: "Learn how to set up your local dev environment"
---

import Admonition from '@theme/Admonition';
import {TextAndCode} from "../../src/components/code/code/text-and-code";
import {DownloadRestate} from "../shared/DownloadRestate.mdx";

# Local Dev

## Running Restate Server & CLI locally
<DownloadRestate/>

<Admonition type="note" title="Server and CLI configuration">
    Have a look at the [CLI configuration docs](/operate/configuration/cli) or [Server configuration docs](/operate/configuration/server) for more configuration options.
</Admonition>

<details>
    <summary> Wiping Restate </summary>

    To start the Restate Server from a clean slate, stop the server and then delete the data directory:

    ```shell
    rm -rf <BASE_DIR>/<NODE_NAME>
    ```

</details>

## Useful dev CLI commands

<TextAndCode>
    Check if the CLI is installed correctly and can find the server:

    ```shell !result
    restate whoami
    ```
</TextAndCode>
<TextAndCode>
    Register a new service deployment.
    When running Restate in a Docker, replace localhost with `host.docker.internal`.

    ```shell !result
    restate deployments register localhost:9080
    ```
</TextAndCode>
<TextAndCode>
    [Cancel](/operate/invocation#cancelling-invocations) a single invocation or a batch of invocations.
    Use `--kill` to [kill](/operate/invocation#killing-invocations) the invocation.
    To remove all invocations, stop the server then do `rm -rf <BASE_DIR>/<NODE_NAME>`, which will effectively delete all state/data of the Restate server.

    ```shell !result
    restate invocation cancel <INVOCATION_ID>
    # also works with <SERVICE>/<SERVICE_KEY>/<HANDLER> or a subset of it
    ```
</TextAndCode>
<TextAndCode>
    Purge completed invocations from the state:

    ```shell !result
    restate invocation purge <INVOCATION_ID>
    # also works with <SERVICE>/<SERVICE_KEY>/<HANDLER> or a subset of it
    ```

</TextAndCode>
<TextAndCode>
    Clear the K/V state of a Virtual Object or Workflows.
    To clear all state, stop the server then do  `rm -rf <BASE_DIR>/<NODE_NAME>`, which will effectively delete all state/data of the Restate server.

    ```shell !result
    restate kv clear <OBJECT_OR_WORKFLOW_NAME>
    restate kv clear <OBJECT_OR_WORKFLOW_NAME>/<SERVICE_KEY>
    ```
</TextAndCode>
<TextAndCode>
    Execute a SQL query on the invocation or application state.
    See [SQL introspection docs](/operate/introspection?interface=psql#inspecting-invocations) for example queries.
    Use `--json` to get the output in json format.

    ```shell !result
    restate sql "query"
    ```

</TextAndCode>

<Admonition type="tip" title={"Debugging and troubleshooting with the CLI"}>
    Have a look at the [introspection page](/operate/introspection) for a list of useful commands.
</Admonition>