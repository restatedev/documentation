---
sidebar_position: 1
description: "Get an idea of what a Restate TypeScript service looks like."
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Overview

Restate offers a Java SDK ([sdk-java repo](https://github.com/restatedev/sdk-java)) and a TypeScript SDK ([sdk-typescript repo](https://github.com/restatedev/sdk-typescript)).

:::info TS Handler API vs. gRPC API
Restate currently supports two TypeScript APIs for implementing services: the Handler API and the gRPC API.
The gRPC API requires you to specify the services, methods and data types via a Protobuf definition, as explained in the [service contract docs](/develop/service_type#restate-service-contract).
The Handler API does not require this.
:::

## Installation

<Tabs groupId="sdk" queryString>
<TabItem value="ts" label="TypeScript">

:::tip
Have a look at the [TypeScript Quickstart](/get_started/quickstart?sdk=ts)!
:::

Add the `@restatedev/restate-sdk` dependency to your NodeJS project to start developing Restate services.

</TabItem>
<TabItem value="java" label="Java">

:::tip
Have a look at the [Java Quickstart](/get_started/quickstart?sdk=jvm)!
:::

Scaffold a project using the build tool of your choice. For example, with Gradle (Kotlin script):

```shell
gradle init --type java-application
```

Add the dependency `sdk-api`:

```kotlin
implementation("dev.restate:sdk-api:VAR::JAVA_SDK_VERSION")
```

Depending on the deployment target, add one of the following dependencies:
- To run as long-running app: `dev.restate:sdk-http-vertx:VAR::JAVA_SDK_VERSION`
- To run on AWS Lambda: `dev.restate:sdk-lambda:VAR::JAVA_SDK_VERSION`

To use Jackson for serialization, add the following dependency: `dev.restate:sdk-serde-jackson:VAR::JAVA_SDK_VERSION`

Now you need to configure the protobuf plugin to build your Protobuf contracts.
Have a look at the [`build.gradle.kts` file of the Java Gradle template](https://github.com/restatedev/examples/blob/main/templates/java-gradle/build.gradle.kts) for an example.

For Maven, you can use the [xolstice Protobuf plugin](https://www.xolstice.org/protobuf-maven-plugin/index.html).

</TabItem>
</Tabs>

## API Examples

<Tabs groupId="sdk" queryString>
<TabItem value="ts" label="TypeScript" default>

Below is an example of a TypeScript service with the Handler API.

This example shows a greeter service comprising two methods:
- `greet`: returns a greeting as a response without performing any additional operations.
- `countGreetings`: maintains a record of the number of times it has received a request for a given name.

```typescript
CODE_LOAD::ts/src/develop/overview_handler.ts
```

The app logic is implemented inside the `greet` and `countGreetings` functions.
The `restate.KeyedContext` is supplied as the first argument.
The [Restate context](/develop/sdk/restate-context) enables interaction with Restate (call other methods, retrieve state, etc.).
The `countGreetings` function uses the `restate.KeyedContext` because it belongs to a keyed service.
For unkeyed services, you would use `restate.Context`.

Finally, the endpoint is set up to serve both functions.
The service is registered as a keyed service under the path `greeter`, and the `greet` and `countGreetings` routes are added.
The `greet` function can now be called by sending a request to `<RESTATE_INGRESS_URL>/greeter/greet` or `<RESTATE_INGRESS_URL>/greeter/countGreetings`.

For more information on how to set up the routers and the Restate server, have a look at the [serving docs](/develop/sdk/serving).

</TabItem>
<TabItem value="ts-grpc" label="TypeScript-gRPC">

Below is an example of a TypeScript gRPC service.

The [gRPC](https://grpc.io/) API uses the `protobufjs` and `ts-proto` dependencies to work with the [Protobuf](https://protobuf.dev/)-generated TypeScript code. So add these as well to your `package.json`.

This example shows a greeter service comprising two methods:
- `greet`: returns a greeting as a response without performing any additional operations.
- `countGreetings`: maintains a record of the number of times it has received a request for a given name.

```typescript
CODE_LOAD::ts-grpc/src/develop/overview.ts
```

The interface of the gRPC service is defined in the [Protobuf](https://protobuf.dev/) service contracts, that are shown below.
Within the method, the Restate context is retrieved, enabling interaction with Restate (e.g. calling other services).
For keyed services, you use the `restate.KeyedContext`. For unkeyed services, instead, you use the `restate.Context`.
Finally, the endpoint is set up to serve both methods of the greeter service.

This is what corresponding Protobuf definition would look like for this service:

```protobuf
CODE_LOAD::ts-grpc/proto/example.proto
```

To understand the Restate-specific parts of this Protobuf definition, have a look at the documentation [here](/develop/service_type#restate-service-contract).

</TabItem>
<TabItem value="java" label="Java">

Below is an example of a Java service. 

Restate uses [protobuf](https://protobuf.dev/) to define the service and its methods. The example shows a greeter service with a single method:
- `greet`: maintains a record of the number of times it has received a request for a given name, and prints a greeting.

```java
CODE_LOAD::java/src/main/java/develop/Greeter.java
```

The `Greeter` class extends `GreeterRestate.GreeterRestateImplBase`, which is the base generated by the Restate protoc generator.
It has the name of the service (`Greeter`) with `Restate` appended to it.

The [Restate context](/develop/sdk/restate-context) is supplied to the method as the first argument.
The context enables interaction with Restate (e.g. calling other services, setting timers).
The `greet` method uses an ObjectContext since it is a keyed service. For unkeyed services, use `Context`.
Finally, the Restate server is set up to serve both methods of the greeter service.

This is what corresponding Protobuf definition would look like for this service:

```protobuf
CODE_LOAD::java/src/main/proto/greeter.proto
```

To understand the Restate-specific parts of this Protobuf definition, have a look at the documentation [here](/develop/service_type#restate-service-contract).

<details>
<summary>Alternative: vanilla gRPC</summary>

Restate's proto code generator makes the generated code more polished for writing Restate services.
However, it is also possible to use the vanilla generated protobuf code by `protoc-gen-grpc-java`, in case you prefer this.

An example:

```java
CODE_LOAD::java/src/main/java/develop/GreeterVanillaGrpc.java
```

</details>

</TabItem>
</Tabs>

Now that you have a high-level idea of what a Restate service might look like, let's dive into the details!
