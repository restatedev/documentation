---
sidebar_position: 3
description: "Find out how Restate services can send requests to each other."
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';

# Service Communication
A handler can call another handler and wait for the response (request-response), or it can send a message without waiting for the response.

<Tabs groupId="sdk" queryString>
    <TabItem value="java" label="Java">

    </TabItem>
    <TabItem value="kotlin" label="Kotlin">

    </TabItem>
</Tabs>

## Request-response calls
- To call **services**, use the generated clients:
<Tabs groupId="sdk" queryString className={"display-none"}>
 <TabItem value="java" label="Java">

```java
CODE_LOAD::java/src/main/java/develop/ServiceCommunication.java#<start_request_response_service>-<end_request_response_service>
```

</TabItem>
<TabItem value="kotlin" label="Kotlin">

```kotlin
CODE_LOAD::kotlin/src/main/kotlin/develop/ServiceCommunication.kt#<start_request_response_service>-<end_request_response_service>
```

</TabItem>
</Tabs>

- To call **virtual objects**, you need to pass the object key to the client factory method:

<Tabs groupId="sdk" queryString className={"display-none"}>
<TabItem value="java" label="Java">

```java
CODE_LOAD::java/src/main/java/develop/ServiceCommunication.java#<start_request_response_virtual_object>-<end_request_response_virtual_object>
```

</TabItem>
<TabItem value="kotlin" label="Kotlin">

```kotlin
CODE_LOAD::kotlin/src/main/kotlin/develop/ServiceCommunication.kt#<start_request_response_virtual_object>-<end_request_response_virtual_object>
```

</TabItem>
</Tabs>

<Admonition type="info">
    The clients are generated when you build the project. If you don't see the generated clients, make sure you have built the project with `./gradlew build`.
</Admonition>

<Admonition type="tip" title="No need for manual retry logic">
    These calls are proxied by Restate, and get logged in the journal.
    In case of failures, Restate takes care of retries.
</Admonition>

## Sending messages
Handlers can send messages (a.k.a. one-way calls, or fire-and-forget calls).
Use the client's `.send()` method to do this as follows:

<Tabs groupId="sdk" queryString className={"display-none"}>
<TabItem value="java" label="Java">

```java
CODE_LOAD::java/src/main/java/develop/ServiceCommunication.java#<start_one_way>-<end_one_way>
```

</TabItem>
<TabItem value="kotlin" label="Kotlin">

```kotlin
CODE_LOAD::kotlin/src/main/kotlin/develop/ServiceCommunication.kt#<start_one_way>-<end_one_way>
```

</TabItem>
</Tabs>

<Admonition type="tip" title="No need for message queues">
    Without Restate, you would usually put a message queue in between the two services, to guarantee the message delivery.
    Restate eliminates the need for a message queue because Restate durably logs the request and makes sure it gets executed.
</Admonition>

## Delayed calls
A delayed call is a one-way call that gets executed after a specified delay.

Use Restate's generated clients `.send(Duration)` method to send a delayed requests:

<Tabs groupId="sdk" queryString className={"display-none"}>
<TabItem value="java" label="Java">

```java
CODE_LOAD::java/src/main/java/develop/ServiceCommunication.java#<start_delayed>-<end_delayed>
```

</TabItem>
<TabItem value="kotlin" label="Kotlin">

```kotlin
CODE_LOAD::kotlin/src/main/kotlin/develop/ServiceCommunication.kt#<start_delayed>-<end_delayed>
```

</TabItem>
</Tabs>


<Admonition type="tip" title="Scheduling async tasks">
You can also use this functionality to schedule async tasks.
Restate will make sure the task gets executed at the desired time.
</Admonition>