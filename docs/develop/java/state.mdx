---
sidebar_position: 4
description: "Explore interacting with Restate's state store."
---

import Admonition from '@theme/Admonition';

# State
Restate offers durable storage of application state, with support for key-value state that can be retrieved, set, and cleared via its key.
Using this feature requires no additional setup.


<Admonition type="info" title="Command-line introspection">
You can inspect and edit the K/V state stored in Restate via `psql` and the CLI.
Have a look at the [introspection docs](/operate/introspection#inspecting-application-state) for more information.
</Admonition>

## Listing state keys
To list all the keys that have entries in the state store for that invocation (and its keyed service instance), do:

```java
CODE_LOAD::java/src/main/java/develop/State.java#<start_statekeys>-<end_statekeys>
```

## Retrieving state
To retrieve state in Restate, you can do the following:

First, you need to define the state key: a combination of a key name and (de)serializer.
You can use Restate's built-in `CoreSerdes` for serialization of primitive types.
For the serialization of custom types, have a look at the [serialization documentation](/develop/java/serialization).

Once you have defined the `STATE_KEY`, you can retrieve the state in your methods as follows:

```java
CODE_LOAD::java/src/main/java/develop/State.java#<start_get>-<end_get>
```

This will return either the value that was stored or `null` if no value was stored.

## Setting state
To set a key-value pair in Restate, do:

```java
CODE_LOAD::java/src/main/java/develop/State.java#<start_set>-<end_set>
```

Have a look at [the docs on retrieving state](/develop/java/state#retrieving-state) to understand how to create the state key.

The type of value needs to line up with the type that was defined in the StateKey.

Replace `my-new-value` with the value that you want to set.

## Clearing state
To delete the value of a key in Restate, do:

```java
CODE_LOAD::java/src/main/java/develop/State.java#<start_clear>-<end_clear>
```

Have a look at [the docs on retrieving state](/develop/java/state#retrieving-state) to understand how to create the state key.

To delete all K/V state entries for the invocation (and its keyed service instance), do:

```java
CODE_LOAD::java/src/main/java/develop/State.java#<start_clear_all>-<end_clear_all>
```
