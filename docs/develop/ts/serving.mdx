---
sidebar_position: 11
description: "Set up long-running services or Lambda handlers."
---


import Admonition from '@theme/Admonition';

# Serving
Restate services can run in two ways: as an HTTP endpoint or as AWS Lambda functions.

## Creating an HTTP endpoint
1. Create the endpoint
2. Bind one or multiple services to it.
3. Listen on the specified port (default `9080`) for connections and requests.

```typescript
CODE_LOAD::ts/src/develop/serving.ts#endpoint
```

<details className={"grey-details"}>
    <summary>Customizing the HTTP2 server</summary>

    If you need to manually control or customize the HTTP2 server, you can call `http2Handler()` instead of `listen()`, and then use it to manually instantiate the HTTP server:

    ```ts
    CODE_LOAD::ts/src/develop/serving.ts#custom_endpoint
    ```
</details>

## Creating a Lambda handler

To register your service as a Lambda function, change the endpoint into a Lambda handler:
```typescript
CODE_LOAD::ts/src/develop/serving.ts#lambda
```

Have a look at the [deployment section](/category/aws--aws-lambda)
for guidance on how to deploy your services on AWS Lambda.

<Admonition type="tip" title={"Run on Lambda without handler changes"}>
    The implementation of your services and handlers remains the same for both deployment options.
</Admonition>


