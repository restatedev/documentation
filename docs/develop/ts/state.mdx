---
sidebar_position: 4
description: "Explore interacting with Restate's state store."
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# State
Restate offers durable storage of application state, with support for key-value state that can be retrieved, set, and cleared via its key.
Using this feature requires no additional setup.

:::info Command-line introspection
You can inspect and edit the K/V state stored in Restate via `psql` and the CLI.
Have a look at the [introspection docs](/operate/introspection#inspecting-application-state) for more information.
:::

## Listing state keys
To list all the keys that have entries in the state store for that invocation (and its keyed service instance), do:

```typescript
CODE_LOAD::ts/src/develop/state.ts#<start_statekeys>-<end_statekeys>
```


## Retrieving state
To retrieve state in Restate, you can do the following:

```typescript
CODE_LOAD::ts/src/develop/state.ts#<start_get>-<end_get>
```

Replace `my-key` with the key you want to retrieve.
This will either return the value that was stored or it will return `null` if no value was stored. 

In this code snippet, the value stored is a string, but you can store any type that can be serialized as a 
buffer with `Buffer.from(JSON.stringify(yourObject))`. 

For example, to retrieve a number type, you could use the following code:

```typescript
CODE_LOAD::ts/src/develop/state.ts#<start_get_nb>-<end_get_nb>
```

This would retrieve the value of the `my-key` key. If the value is `null`, then it will return 0.

## Setting state
To set a key-value pair in Restate, do:

```typescript
CODE_LOAD::ts/src/develop/state.ts#<start_set>-<end_set>
```

The value can be of any type that can be serialized as a Buffer.

Replace `my-key` with the key that you are setting.
And replace `my-new-value` with the value that you want to set.

## Clearing state
To delete the value of a key in Restate, do:

```typescript
CODE_LOAD::ts/src/develop/state.ts#<start_clear>-<end_clear>
```

Replace `my-key` with the key that you are setting.


To delete all K/V state entries for the invocation (and its keyed service instance), do:

```typescript
CODE_LOAD::ts/src/develop/state.ts#<start_clear_all>-<end_clear_all>
```
