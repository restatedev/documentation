package develop;

import dev.restate.sdk.Component;
import dev.restate.sdk.http.vertx.RestateHttpEndpointBuilder;

import java.util.concurrent.Executors;

class ServingVirtualThreads {
    public void virtualThreads(RestateHttpEndpointBuilder builder) {
        // <start_here>
        builder.bind(
            // This is the class generated by the annotation processor
            new GreeterBindableComponent(
                new Greeter(),
                new Component.Options(Executors.newVirtualThreadPerTaskExecutor())
            )
        );
        // <end_here>
    }
}
